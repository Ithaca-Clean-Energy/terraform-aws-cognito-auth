!function(e){function t(t){for(var r,c,i=t[0],l=t[1],s=t[2],d=0,p=[];d<i.length;d++)c=i[d],a[c]&&p.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=l;o.push([260,1]),n()}({260:function(e,t,n){e.exports=n(454)},454:function(e,t,n){"use strict";n.r(t);var r=n(22),a=n(0),o=n(21),c=n(456),i=n(4),l=n(3),s=Object(l.b)(Object(r.withStyles)(function(e){var t=e.palette,n=e.spacing;return Object(r.createStyles)({root:{color:t.common.white,fontSmoothing:"antialiased",fontWeight:700,paddingTop:2*n.unit,paddingRight:4*n.unit,paddingBottom:2*n.unit,paddingLeft:4*n.unit,transition:"background-color .25s"},error:{backgroundColor:t.error.main},success:{backgroundColor:i.o.green.A700}})}),l.d)(function(e){var t=e.classes,n=e.children,r=e.display,o=e.success,c=e.err;return a.createElement(i.c,{in:r},a.createElement(i.n,{className:t.root+" "+(o?t.success:t.error)},c&&c.response&&c.response.data.message,o&&n))}),u=n(457),d=n(180),p=n.n(d),f=n(181),m=n.n(f),b=n(182),h=n.n(b),g=n(183),y=n.n(g),O=function(e,t,n,r){return new(n||(n=h.a))(function(a,o){function c(e){try{l(r.next(e))}catch(e){o(e)}}function i(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(c,i)}l((r=r.apply(e,t||[])).next())})},v=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof m.a&&(o[p.a]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},w=function(){return Object(l.b)(Object(l.h)("form","setForm",function(){return{pending:!1,success:!1}}),Object(l.f)({submit:function(e){var t=e.setForm,n=e.target;return function(e){return O(void 0,void 0,void 0,function(){var r,a,o;return v(this,function(c){switch(c.label){case 0:r="/"+window.env.API_BASE_PATH+"/"+(n||location.pathname).replace(/^\//,""),t({pending:!0,success:!1}),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,y.a.post(r,e||{},{withCredentials:!0,headers:{"Content-Type":"application/json"}})];case 2:return a=c.sent().data,t({pending:!1,success:!0,response:a}),[3,4];case 3:return o=c.sent(),t({pending:!1,success:!1,err:o}),[3,4];case 4:return[2]}})})}}}))},j=n(51),E=function(){return Object(l.b)(w(),Object(l.h)("request","setRequest",function(e){return e.initial}),Object(l.f)({handleChange:function(e){var t=e.request,n=e.setRequest;return function(e){var r=e.currentTarget,a=r.type,o=r.checked,c=r.name,i=r.value;n("checkbox"===a?Object(j.b)(Object(j.a)(c),o,t):Object(j.b)(Object(j.a)(c),i,t))}},handleSubmit:function(e){var t=e.submit,n=e.request;return function(e){return e.preventDefault(),t(n)}}}))},x=Object(l.b)(Object(l.g)(function(e){var t=e.form;return{href:"//"+window.env.APP_ORIGIN+"#"+t.response.id.token}}),l.d)(function(e){var t=e.href;return a.createElement(K,{href:t})}),S=Object(l.b)(Object(r.withStyles)(function(e){var t=e.palette,n=e.spacing;return Object(r.createStyles)({controls:{display:"flex",alignItems:"center"},forgotPassword:{flex:1,textAlign:"right"},register:{color:t.text.hint,marginTop:2*n.unit,textAlign:"center"}})}),Object(l.g)(function(){return{target:"/authenticate",initial:{username:"",password:"",remember:!1}}}),E(),Object(l.a)(function(e){return e.form.success},Object(l.e)(x)),l.d)(function(e){var t=e.classes,n=e.form,r=e.request,o=e.handleChange,c=e.handleSubmit;return a.createElement("div",null,a.createElement(z,{primary:window.env.COGNITO_IDENTITY_POOL_NAME,secondary:"Sign in to your account"}),a.createElement(s,{display:!!n.err,success:n.success,err:n.err}),a.createElement(R,{onSubmit:c},a.createElement(F,{name:"username",label:"Email address",required:!0,value:r.username,InputProps:{readOnly:n.pending},onChange:o,autoComplete:"username"}),a.createElement(Y,{name:"password",label:"Password",required:!0,value:r.password,InputProps:{readOnly:n.pending},onChange:o,autoComplete:"new-password"}),a.createElement(i.f,{row:!0,className:t.controls},a.createElement(i.e,{label:"Remember me",control:a.createElement(i.b,{name:"remember",checked:r.remember,onChange:o})}),a.createElement(i.n,{className:t.forgotPassword},a.createElement(Z,{to:"/reset",tabIndex:-1},"Forgot password?"))),a.createElement(G,{disabled:n.pending},"Sign in"),a.createElement(i.n,{className:t.register},"Don't have an account? ",a.createElement(Z,{to:"/register"},"Register"))))}),P=Object(l.b)(Object(r.withStyles)(function(e){var t=e.palette,n=e.spacing;return Object(r.createStyles)({authenticate:{color:t.text.hint,marginTop:2*n.unit,textAlign:"center"},button:{borderRadius:2,fontSmoothing:"antialiased",marginTop:4*n.unit}})}),Object(l.g)(function(){return{initial:{email:"",password:""}}}),E(),l.d)(function(e){var t=e.classes,n=e.form,r=e.request,o=e.handleChange,c=e.handleSubmit;return a.createElement("div",null,a.createElement(z,{primary:window.env.COGNITO_IDENTITY_POOL_NAME,secondary:"Register for a new account"}),a.createElement(s,{display:!!n.err||n.success,success:n.success,err:n.err},"We just sent a verification link to your email address. Please click on the link to complete your registration."),a.createElement(R,{onSubmit:c},a.createElement(F,{name:"email",label:"Email address",required:!0,disabled:n.success,value:r.email,InputProps:{readOnly:n.pending},onChange:o,autoComplete:"email"}),a.createElement(Y,{name:"password",label:"Password",required:!0,disabled:n.success,value:r.password,InputProps:{readOnly:n.pending},onChange:o,autoComplete:"new-password"}),a.createElement(G,{className:t.button,disabled:n.pending||n.success},"Register"),a.createElement(i.n,{className:t.authenticate},"Already have an account? ",a.createElement(Z,{to:"/"},"Sign in"))))}),C=Object(l.b)(l.d)(function(){return a.createElement("div",null,"TODO")}),k=Object(l.b)(Object(r.withStyles)(function(e){return Object(r.createStyles)({})}),w(),Object(l.c)({componentDidMount:function(){return this.props.submit()}}),Object(l.a)(function(e){return e.form.success},Object(l.e)(C)),l.d)(function(){return a.createElement("div",null,"Verifying...")}),N=Object(l.b)(Object(r.withStyles)(function(e){var t,n,a=e.palette,o=e.breakpoints;return Object(r.createStyles)({root:(t={display:"flex",height:"100%",alignItems:"center",justifyContent:"center",backgroundColor:a.background.default},t[o.down("xs")]={alignItems:"initial",backgroundColor:a.common.white},t),paper:(n={width:340,borderRadius:2,overflow:"hidden"},n[o.down("xs")]={width:"100%",borderRadius:0},n)})}))(function(e){var t=e.classes;return a.createElement("div",{className:t.root},a.createElement(i.l,{elevation:1,className:t.paper},a.createElement(u.a,{exact:!0,path:"/",component:S}),a.createElement(u.a,{exact:!0,path:"/register",component:P}),a.createElement(u.a,{path:"/register/:code+",component:k})))}),T=n(24),I=n.n(T),q=n(28),_=n.n(q),A=function(){return(A=_.a||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof I.a){var a=0;for(r=I()(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},R=Object(l.b)(Object(r.withStyles)(function(e){var t=e.spacing;return Object(r.createStyles)({root:{padding:4*t.unit}})}),l.d)(function(e){var t=e.classes,n=e.children,r=M(e,["classes","children"]);return a.createElement("form",A({method:"post",className:t.root},r),n)}),D=function(){return(D=_.a||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},W=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof I.a){var a=0;for(r=I()(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},G=Object(l.b)(Object(r.withStyles)(function(e){var t=e.spacing;return Object(r.createStyles)({root:{borderRadius:2,fontSmoothing:"antialiased",marginTop:2*t.unit}})}),l.d)(function(e){var t=e.classes,n=W(e,["classes"]);return a.createElement(i.a,D({type:"submit",variant:"contained",color:"primary",fullWidth:!0,className:t.root},n))}),B=function(){return(B=_.a||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},F=function(e){return a.createElement(i.m,B({type:"text",margin:"dense",fullWidth:!0,InputLabelProps:{required:!1}},e))},L=n(186),V=n.n(L),H=n(185),J=n.n(H),Y=Object(l.b)(Object(r.withStyles)(function(e){return Object(r.createStyles)({adornment:{maxHeight:"1.6em"}})}),Object(l.h)("visibility","setVisibility",function(){return!1}),Object(l.f)({handleClick:function(e){var t=e.visibility,n=e.setVisibility;return function(){n(!t)}},handleMouseDown:function(){return function(e){e.preventDefault()}}}),l.d)(function(e){var t=e.classes,n=e.name,r=e.label,o=e.required,c=e.InputProps,l=e.value,s=e.onChange,u=e.autoComplete,d=e.disabled,p=e.error,f=e.helperText,m=e.visibility,b=e.handleClick,h=e.handleMouseDown;return a.createElement(i.d,{margin:"dense",fullWidth:!0,error:p},a.createElement(i.k,{htmlFor:n,required:!1},r),a.createElement(i.i,{id:n,name:n,type:m?"text":"password",required:o,readOnly:!!c&&c.readOnly,value:l,onChange:s,autoComplete:u,disabled:d,endAdornment:a.createElement(i.j,{position:"end",className:t.adornment},a.createElement(i.h,{"aria-label":"Toggle password visibility",onClick:b,onMouseDown:h,tabIndex:-1},m?a.createElement(J.a,null):a.createElement(V.a,null)))}),f&&a.createElement(i.g,null,f))}),z=Object(l.b)(Object(r.withStyles)(function(e){var t=e.palette,n=e.spacing;return Object(r.createStyles)({root:{background:i.o.blueGrey[900],padding:4*n.unit},text:{color:t.common.white,fontSmoothing:"antialiased"}})}),l.d)(function(e){var t=e.classes,n=e.primary,r=e.secondary;return a.createElement("div",{className:t.root},a.createElement(i.n,{variant:"headline",className:t.text},n),a.createElement(i.n,{className:t.text},r))}),K=Object(l.b)(Object(l.c)({componentWillMount:function(){window.location.href=this.props.href}}),l.d)(function(){return null}),Q=n(455),U=function(){return(U=_.a||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},X=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof I.a){var a=0;for(r=I()(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},Z=Object(l.b)(Object(r.withStyles)(function(e){var t=e.palette;return Object(r.createStyles)({root:{color:t.primary.main,outline:0,textDecoration:"none",transition:"color .125s","&:hover":{color:t.secondary.main}}})}),l.d)(function(e){var t=e.classes,n=e.children,r=X(e,["classes","children"]);return a.createElement(Q.a,U({className:t.root},r),n)}),$=Object(r.createMuiTheme)({palette:{primary:i.o.indigo,secondary:i.o.lightBlue,error:{main:i.o.red.A200}}});Object(o.render)(a.createElement(c.a,null,a.createElement(r.MuiThemeProvider,{theme:$},a.createElement(N,null))),document.getElementById("root"))}});
//# sourceMappingURL=main.231475376dac40d24770.bundle.js.map